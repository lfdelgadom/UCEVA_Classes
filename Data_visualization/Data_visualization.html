<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>üî¨ Visualizaci√≥n de datos</title>
    <meta charset="utf-8" />
    <meta name="author" content="MSc. Ing. Luis Fernando Delgado Mu√±oz" />
    <meta name="date" content="2022-01-01" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/rladies.css" rel="stylesheet" />
    <link href="libs/remark-css/rladies-fonts.css" rel="stylesheet" />
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <script src="libs/fabric/fabric.min.js"></script>
    <link href="libs/xaringanExtra-scribble/scribble.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-scribble/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#FF0000"],"pen_size":3,"eraser_size":30,"palette":[]}) })</script>
    <script src="libs/xaringanExtra-webcam/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <link href="libs/font-awesome/css/all.min.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/v4-shims.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="sydney.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: inverse, left, bottom
background-image: url("img/back2.jpg")
background-size: cover


# **&amp;#x1f52c; Visualizaci√≥n de datos**
----

## **&lt;br/&gt; M√≥dulo gr√°fico de R**

### MSc. Ing. Luis Fernando Delgado Mu√±oz
### 2022









---

class: inverse, middle, center
background-image: url("img/back5.jpg")
background-size: cover


&lt;br&gt;&lt;br&gt;

.center[
&lt;img style="border-radius: 50%;" src="img/avatar.jpg"
width="160px"/&gt;


### MSc. Ing. Luis Fernando Delgado Mu√±oz&lt;br/&gt;
### Universidad Nacional de Colombia
]

&lt;br&gt;


.center[

 
*MSc. Ciencias Agrarias*
 
*Ingeniero Agroindustrial*


]


---

name: menu
background-image: url("img/back3.jpg")
background-size: cover
class: left, middle, inverse

# Contenido

----


.pull-left[
### <i class="fa fa-project-diagram" role="presentation" aria-label="project-diagram icon"></i> [Tipos de gr√°ficos](#Tipos)

### <i class="fa fa-sort-numeric-down" role="presentation" aria-label="sort-numeric-down icon"></i> [Univariados](#Univariados)

### <i class="fa fa-list-ol" role="presentation" aria-label="list-ol icon"></i> [Bivariados](#Bivariados)

### <i class="fab fa-buffer" role="presentation" aria-label="buffer icon"></i> [Multivariados](#Multi)

]

---

name: Tipos
background-image: url("img/back6.jpg")
background-size: cover
class: inverse, center, middle

# <i class="fa fa-project-diagram" role="presentation" aria-label="project-diagram icon"></i>
# Tipos de gr√°ficos
----

.right[
.bottom[
####  [<i class="fa fa-bell" role="presentation" aria-label="bell icon"></i>](#menu)
]
]

---
name: Univariados

# Tipos de gr√°ficos

----

&gt; ### 1. Gr√°ficos Univariados:
Los gr√°ficos univariados trazan la distribuci√≥n de datos de una sola variable. La variable puede ser categ√≥rica o cualitativa (raza, sexo,especie), √≥ cuantitativa (edad, peso, altura).

&lt;br&gt;

* **Cuantitativo:** La distribuci√≥n de una sola variable cuantitativa
se representa con un histograma, un diagrama de densidad de kernel o un diagrama de puntos.

&lt;br&gt;

* **Categ√≥rico:** La distribuci√≥n de una sola variable categ√≥rica se representa con un gr√°fico de barras y un mapa de √°rbol.


----


---
name: Bivariados

# Tipos de gr√°ficos

---- 

&gt; ### 2. Gr√°ficos Bivariados:
Los gr√°ficos bivariados muestran la relaci√≥n existente entre dos variables. El tipo de gr√°fico depender√° del nivel de medici√≥n de las variables (categ√≥ricas o cuantitativas).

&lt;br&gt;

* **Categ√≥rico `vs` Categ√≥rico:** se utilizan gr√°ficos de barras apiladas, agrupadas o segmentadas.



* **Cuantitativo `vs` Cuantitativo:** se muestra mediante diagramas de dispersi√≥n y gr√°ficos de l√≠neas.



* **Categ√≥rico `vs` Cuantitativo:** semuestran gr√°ficos de barras que utilizan estad√≠sticas resumidas, gr√°ficos de densidad de kernel agrupados, gr√°ficos de caja, gr√°ficos de viol√≠n, gr√°ficos de media, gr√°ficos de crestas y gr√°ficos de Cleveland.

----


---
name: Multi

# Tipos de gr√°ficos


----

&gt; ### 3. Gr√°ficos Multivariados:
Los gr√°ficos multivariados muestran las relaciones entre tres o m√°s variables. Hay dos m√©todos comunes para acomodar m√∫ltiples variables: agrupamiento y facetas.

&lt;br&gt;

* **Agrupaci√≥n:** los valores de las dos primeras variables se asignan a los ejes x y y. Luego, las variables adicionales se asignan a otras caracter√≠sticas visuales como el color, la forma, el tama√±o, el tipo de l√≠nea y la transparencia. La agrupaci√≥n le permite trazar los datos de varios grupos en un solo gr√°fico.

&lt;br&gt;

* **Facetas o Parcelas:** permite trazar m√∫ltiples variables en un solo gr√°fico, utilizando caracter√≠sticas visuales como el color, la forma y el tama√±o. En el facetado consta de varios gr√°ficos separados o peque√±os m√∫ltiplos, uno para cada nivel de una tercera variable o combinaci√≥n de variables categ√≥ricas.

----

---

# Tipos de gr√°ficos

----

&gt; ### 4. Otros gr√°ficos:

&lt;br&gt;

* Dispersi√≥n 3D
* Biplots
* Burbujas
* Diagramas de flujo
* Mapas de calor
* Radar
* Matriz de dispersi√≥n
* Cascada
* Wordcloud

----

---

name: Univariados
background-image: url("img/back7.jpg")
background-size: cover
class: inverse, center, middle

# <i class="fa fa-sort-numeric-down" role="presentation" aria-label="sort-numeric-down icon"></i>
# Gr√°ficos Univariados
----

.right[
.bottom[
####  [<i class="fa fa-bell" role="presentation" aria-label="bell icon"></i>](#menu)
]
]

---

name: Histograma

# <i class="fa fa-sort-numeric-down" role="presentation" aria-label="sort-numeric-down icon"></i>  Histograma


.left-column[
* Un histograma es una representaci√≥n gr√°fica de la distribuci√≥n de una variable num√©rica.

&lt;br&gt;
* La variable se divide en varios contenedores y el n√∫mero de observaciones por contenedor est√° representado por la altura de la barra.
]

.right-column[
* Los histogramas se utilizan para estudiar la distribuci√≥n de una o unas pocas variables.
&lt;br&gt;&lt;br&gt;
* Verificar la distribuci√≥n de sus variables una por una debe ser la primera tarea al obtener un nuevo conjunto de datos.
&lt;br&gt;&lt;br&gt;
* Entrega una buena cantidad de informaci√≥n.
&lt;br&gt;&lt;br&gt;
* El histograma permite comparar la distribuci√≥n de algunas variables.
]

---

# <i class="fa fa-sort-numeric-down" role="presentation" aria-label="sort-numeric-down icon"></i> Histograma

### Errores comunes

.pull-left[

* probar con varios tama√±os de contenedor puede llevar a conclusiones no acertadas.

* No comparar m√°s de 3 grupos en el mismo histograma. El gr√°fico se vuelve desordenado y dif√≠cilmente comprensible.


]

.pull-right[

![](https://cdn.pixabay.com/photo/2017/03/09/12/31/error-2129569_1280.jpg)

**No confundir con un diagrama de barras**. `Un diagrama de barras da un valor para cada grupo de una variable categ√≥rica. Aqui se tiene una variable num√©rica.`

]

---

# <i class="fa fa-sort-numeric-down" role="presentation" aria-label="sort-numeric-down icon"></i> Histograma

Usando el dataset `iris` se examin√°ra las longitudes de los sepalos.

.pull-left[


```r
# Libraries
library(datasets)
data(iris, package = "datasets")

# plot the age distribution using a histogram
iris %&gt;% ggplot(aes(x = Sepal.Length)) +
  geom_histogram(color = "white",
                 bins = 20) +
  theme_bw() +
  labs(title = "Longitud de los sepalos",
       subtitle = "number of bins = 20",
       x = "Longitud de los sepalos (cm)")
```

* `color = "white":` color del borde de las barras.
* `bins = 20:` n√∫mero de barras a dibujar.

`La mayor√≠a de las longitudes de los s√©palos se encuentra entre los 5 y los 7 cemtimetros. Esta ser√≠a una distribuci√≥n bimodal, puesto que se ve un peque√±o grupo a los 5 cm y otro mas grande entre los 6 y 7 cm.`

]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-3-1.png)&lt;!-- --&gt;

]


---

# <i class="fa fa-sort-numeric-down" role="presentation" aria-label="sort-numeric-down icon"></i> Histograma

### Comparaci√≥n de Distribuciones

.pull-left[


```r
# Build dataset with different distributions
data &lt;- data.frame(
  type = c( rep("edge peak", 1000), rep("comb", 1000), rep("normal", 1000), rep("uniform", 1000), rep("bimodal", 1000), rep("skewed", 1000) ),
  value = c( rnorm(900), rep(3, 100), rnorm(360, sd=0.5), rep(c(-1,-0.75,-0.5,-0.25,0,0.25,0.5,0.75), 80), rnorm(1000), runif(1000), rnorm(500, mean=-2), rnorm(500, mean=2), abs(log(rnorm(1000))) )
)

# Represent it
data %&gt;%
  ggplot( aes(x=value)) +
    geom_histogram(fill="#69b3a2", color="#e9ecef", alpha=0.9) +
    facet_wrap(~type, scale="free_x") +
    theme_bw() +
    theme(
      panel.spacing = unit(0.1, "lines"),
      axis.title.x=element_blank(),
      axis.text.x=element_blank(),
      axis.ticks.x=element_blank()
    )
```


]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-5-1.png)&lt;!-- --&gt;


]

---

# <i class="fa fa-sort-numeric-down" role="presentation" aria-label="sort-numeric-down icon"></i> Histograma

### Comparaci√≥n de Distribuciones

.pull-left[


```r
# Build dataset with different distributions
data &lt;- data.frame(
  type = c( rep("variable 1", 1000), rep("variable 2", 1000) ),
  value = c( rnorm(1000), rnorm(1000, mean=4) )
)

# Represent it
data %&gt;%
  ggplot( aes(x=value, fill=type)) +
    geom_histogram(color="black", alpha=0.4) +
    scale_fill_manual(values=c("#69b3a2", "#404080")) +
    theme_bw() +
    labs(fill="")
```

]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-7-1.png)&lt;!-- --&gt;

]

---

name: Densidad

# <i class="fa fa-bacon" role="presentation" aria-label="bacon icon"></i> Densidad


Una gr√°fica de densidad es una representaci√≥n de la distribuci√≥n de una variable num√©rica. Utiliza una estimaci√≥n de densidad de kernel para mostrar la funci√≥n de densidad de probabilidad de la variable.

**Es una versi√≥n suavizada del histograma y se utiliza en el mismo concepto.**

`La estimaci√≥n de la densidad de kernel  es un m√©todo no param√©trico de estimar la funci√≥n de densidad de probabilidad de una variable aleatoria continua. No es param√©trico porque no asume ninguna distribuci√≥n subyacente para la variable. Esencialmente, en cada datum, se crea una funci√≥n de kernel con el datum en su centro; esto asegura que el kernel sea sim√©trico con respecto al datum. Luego, el PDF se estima agregando todas estas funciones del kernel y dividiendo por la cantidad de datos para garantizar que satisfaga las 2 propiedades de un PDF:`

`Cada valor posible del PDF (es decir, la funci√≥n f (x)) no es negativo. La integral definida del PDF sobre su conjunto de soporte es igual a 1.`


&gt; Las gr√°ficas de densidad se utilizan para estudiar la distribuci√≥n de una o unas pocas variables. Verificar la distribuci√≥n de sus variables una por una es probablemente la primera tarea que debe hacer cuando obtiene un nuevo conjunto de datos. Entrega una buena cantidad de informaci√≥n.

---

# <i class="fa fa-bacon" role="presentation" aria-label="bacon icon"></i> Densidad


B√°sicamente es un histograma suavizado, donde el √°rea debajo de la curva es igual a uno.

.pull-left[

&lt;br&gt;&lt;br&gt;


```r
# Create a kernel density plot 

iris %&gt;% ggplot(aes(x = Petal.Length)) +
  geom_density(fill = "yellow", color = "blue") +
  theme_bw() +
  labs(title = "Longitud de los p√©talos",
       x = "Longitud de los p√©talos (cm)")
```

&gt; Al igual que con los gr√°ficos anteriores, podemos usa `fill` y `color` para especificar los colores de relleno y borde.

&gt; El gr√°fico muestra la distribuci√≥n de la longitud de los p√©talos. Se puede obervar claramente una distribuci√≥n bimodal, con sus dos grandes picos en 1 y 5 cm.

]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-9-1.png)&lt;!-- --&gt;


]

---



# <i class="fa fa-bacon" role="presentation" aria-label="bacon icon"></i> Densidad


### Comparar densidades

.pull-left[


```r
# Build dataset with different distributions
data &lt;- data.frame(
  type = c( rep("edge peak", 1000), rep("comb", 1000), rep("normal", 1000), rep("uniform", 1000), rep("bimodal", 1000), rep("skewed", 1000) ),
  value = c( rnorm(900), rep(3, 100), rnorm(360, sd=0.5), rep(c(-1,-0.75,-0.5,-0.25,0,0.25,0.5,0.75), 80), rnorm(1000), runif(1000), rnorm(500, mean=-2), rnorm(500, mean=2), abs(log(rnorm(1000))) )
)

# Represent it
data %&gt;%
  ggplot( aes(x=value)) +
    geom_density(fill="#69b3a2", color="black", alpha=0.9, adjust = 0.5) +
    facet_wrap(~type, scale="free") +
    theme_bw() +
    theme(
      panel.spacing = unit(0.1, "lines"),
      axis.title.x=element_blank(),
      axis.text.x=element_blank(),
      axis.ticks.x=element_blank()
    )
```


]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-11-1.png)&lt;!-- --&gt;


]


---



# <i class="fa fa-bacon" role="presentation" aria-label="bacon icon"></i> Densidad


### Comparar densidades

.pull-left[


```r
# Build dataset with different distributions
data &lt;- data.frame(
  type = c( rep("variable 1", 1000), rep("variable 2", 1000) ),
  value = c( rnorm(1000), rnorm(1000, mean=4) )
)

# Represent it
data %&gt;%
  ggplot( aes(x=value, fill=type)) +
    geom_density( color="black", alpha=0.6) +
    scale_fill_manual(values=c("#69b3a2", "#404080")) +
    theme_bw() +
    labs(fill="")
```


]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-13-1.png)&lt;!-- --&gt;


]

---

# <i class="fa fa-chart-bar" role="presentation" aria-label="chart-bar icon"></i> Diagrama de barras

El conjunto de datos de algod√≥n contiene los registros de 96 observaciones de un experimento llevado a cabo en dos localidades en Per√∫: Lima y Pisco. A continuaci√≥n, se utiliza un gr√°fico de barras para mostrar el promedio de rendimiento de algod√≥n por genotipos.

.pull-left[

&lt;br&gt;



----


```r
library(agricolae)
data(cotton, package = "agricolae")

cotton %&gt;% ggplot(aes(x = reorder(factor(lineage), yield), y = yield, fill = factor(lineage))) +
geom_bar(stat = "summary", 
           color="black") +
  theme_bw() +
  labs(x = "Genotipos", y = "Promedio de rendimiento (kg)")
```

----

&lt;br&gt;
El genotipo 2 fue el que mas rendimiento tuvo, seguido del 1, 3 y finalmente el 4.

]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-15-1.png)&lt;!-- --&gt;


]

---

name: Bivariados
background-image: url("https://cdn.pixabay.com/photo/2016/02/25/22/09/coffee-beans-1223055_1280.jpg")
background-size: cover
class: inverse, center, middle





# <i class="fa fa-list-ol" role="presentation" aria-label="list-ol icon"></i>
# Gr√°ficos Bivariados
----

.right[
.bottom[
####  [<i class="fa fa-bell" role="presentation" aria-label="bell icon"></i>](#menu)
]
]

---

# <i class="fa fa-chart-bar" role="presentation" aria-label="chart-bar icon"></i> Barras apiladas


Al trazar la relaci√≥n entre dos variables categ√≥ricas, normalmente se utilizan gr√°ficos de barras apiladas, agrupadas o segmentadas.


.pull-left[

El siguiente gr√°fico muestra la relaci√≥n entre la clase de autom√≥vil y el tipo de tracci√≥n (rueda delantera, trasera o tracci√≥n en las 4 ruedas) para los autom√≥viles en el dataset (mpg).

----


```r
library(ggplot2)

# stacked bar chart
ggplot(mpg,
       aes(x = class,
           fill = drv)) +
  geom_bar(position = "dodge", color = "black") +
  theme_bw()
```

----

El veh√≠culo m√°s com√∫n es el SUV. Todos los autos de 2 plazas tienen tracci√≥n trasera, mientras que la mayor√≠a, pero no todos los SUV, tienen tracci√≥n en las 4 ruedas.


]

.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-17-1.png)&lt;!-- --&gt;


]

---

# <i class="fa fa-chart-bar" role="presentation" aria-label="chart-bar icon"></i> Barras: Resumen de Media

&gt; Tambi√©n se pueden utilizar gr√°ficos de barras para mostrar otros estad√≠sticos de resumen (por ejemplo, medias o medianas) en una variable cuantitativa para cada nivel de una variable categ√≥rica.

&gt; Por ejemplo, el siguiente gr√°fico muestra el salario medio en dolares anuales de una muestra de profesores universitarios por rango acad√©mico.

.pull-left[

----

.scroll-box-14[

```r
data(Salaries, package="carData")

# calculate mean salary for each rank
library(dplyr)
plotdata &lt;- Salaries %&gt;%
  group_by(rank) %&gt;%
  summarize(mean_salary = mean(salary))

# plot mean salaries in a more attractive fashion
library(scales)
ggplot(plotdata,
       aes(x = factor(rank,
                      labels = c("Assistant\nProfessor",
                                 "Associate\nProfessor",
                                 "Full\nProfessor")),
                      y = mean_salary)) +
  geom_bar(stat = "identity",
           fill = "cornflowerblue", color = "black") +
  geom_text(aes(label = dollar(mean_salary)),
            vjust = -0.25) +
  scale_y_continuous(breaks = seq(0, 130000, 20000),
                     label = dollar) +
  labs(title = "Mean Salary by Rank",
       subtitle = "9-month academic salary for 2008-2009",
       x = "",
       y = "") +
  theme_bw()
```
]

----

]

.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-19-1.png)&lt;!-- --&gt;


]

---

# <i class="fa fa-spinner" role="presentation" aria-label="spinner icon"></i> Diagramas de dispersi√≥n


La visualizaci√≥n m√°s simple de dos variables cuantitativas es un diagrama de dispersi√≥n, donde cada variable es representada en cada eje. Por ejemplo, al utilizar el conjunto de datos `Salaries`, se puede graficar la experiencia docente universitaria *(yrs.since.phd)* frente al salario acad√©mico *(salary)* de los profesores.


.pull-left[

----


```r
library(ggplot2)
data(Salaries, package="carData")

# simple scatterplot
ggplot(Salaries,
       aes(x = yrs.since.phd,
           y = salary)) +
  geom_point(aes(
           color = sex), size  = 2) +
  geom_smooth(method = "lm", se = F) +
  theme_bw() +
  labs(x = "Experiencia doctoral (a√±os)", y = "Salario anual (miles USD)",
       title = "Experiencia vs. Salario")
```

]

.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-21-1.png)&lt;!-- --&gt;


]

---

# <i class="fa fa-people-carry" role="presentation" aria-label="people-carry icon"></i> Boxplot


Un diagrama de caja ofrece un buen resumen de una o m√°s variables num√©ricas. Un diagrama de caja se compone de varios elementos: &lt;br/&gt;

* La l√≠nea que divide la caja  en 2 partes representa la mediana de los datos. Si la mediana es 10, significa que hay el mismo n√∫mero de puntos de datos por debajo y por encima de 10. &lt;br/&gt;

* Los extremos de la caja muestran los cuartiles superior (Q3) e inferior (Q1). Si el tercer cuartil es 15, significa que el 75% de las observaciones son inferiores a 15. &lt;br/&gt;

* La diferencia entre los cuartiles 1 y 3 se llama rango intercuartil (IQR). &lt;br/&gt;

* Las l√≠neas extremas muestran Q3 + 1.5xIQR y Q1-1.5xIQR (el valor m√°s alto y m√°s bajo excluyendo los valores at√≠picos u outliers).&lt;br/&gt;

* Los puntos por fuera de las l√≠neas extremas muestran valores at√≠picos.


---

# <i class="fa fa-people-carry" role="presentation" aria-label="people-carry icon"></i> Boxplot


### Diagrama de caja o Boxplot

&lt;center&gt;&lt;img src="https://help.ezbiocloud.net/wp-content/uploads/2020/04/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA-2020-04-19-%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB-9.41.35.png"height="400px" /&gt;&lt;/center&gt;


---

# <i class="fa fa-people-carry" role="presentation" aria-label="people-carry icon"></i> Boxplot

.pull-left[

* `Un diagrama de caja puede resumir la distribuci√≥n de una variable num√©rica para varios grupos.`
&lt;br&gt;&lt;br&gt;
* `El problema es que resumir tambi√©n significa perder informaci√≥n y eso puede ser una trampa.`
&lt;br&gt;&lt;br&gt;
* `Si consideramos el diagrama de caja a continuaci√≥n, es f√°cil concluir que el grupo Ctiene un valor m√°s alto que los dem√°s.`
&lt;br&gt;&lt;br&gt;
* `Sin embargo, no podemos ver la distribuci√≥n subyacente de puntos en cada grupo o su n√∫mero de observaciones.`


]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-22-1.png)&lt;!-- --&gt;


]

---


# <i class="fa fa-people-carry" role="presentation" aria-label="people-carry icon"></i> Boxplot




.pull-left[

&gt; Los diagramas de caja lado a lado son muy √∫tiles para comparar grupos, es decir, los niveles de una variable categ√≥rica en una variable num√©rica.

----


```r
# plot the distribution of salaries by rank using boxplots
ggplot(Salaries,
       aes(x = rank,
           y = salary)) +
  geom_boxplot(aes(fill = rank)) +
  theme_bw() +
  labs(title = "Salary distribution by rank")
```
----

]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-24-1.png)&lt;!-- --&gt;
]

---

# <i class="fa fa-people-carry" role="presentation" aria-label="people-carry icon"></i> Boxplot

Si la cantidad de datos con la que est√° trabajando no es demasiado grande, agregar `jitter` √≥ las observaciones sobre el diagrama de caja puede hacer que el gr√°fico sea m√°s revelador.

.pull-left[


&gt;Aqu√≠ aparecen claramente algunos patrones nuevos.

----


&gt; El grupo C tiene un tama√±o de muestra peque√±o en comparaci√≥n con los otros grupos.

----

&gt; Definitivamente, esto es algo que debe averiguar antes de decir que el grupo C tiene un valor m√°s alto que los dem√°s.

----

&gt;Adem√°s, parece que el grupo B tiene un bimodal distribution: los puntos se distribuyen en 2 grupos: alrededor de y = 18 e y = 13.

]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-25-1.png)&lt;!-- --&gt;


]

---

# <i class="fa fa-people-carry" role="presentation" aria-label="people-carry icon"></i> Boxplot


###  Boxplot agrupado en paneles


.pull-left[



```r
# library
library(ggplot2)

# create a data frame
variety &lt;- rep(LETTERS[1:7], each=40)
treatment &lt;- rep(c("high","low"),each=20)
note &lt;- seq(1:280)+sample(1:150, 280, replace=T)
data &lt;- data.frame(variety, treatment ,  note)

# one box per variety
ggplot(data, aes(x=variety, y=note, fill=treatment)) +
    geom_boxplot() +
    theme_bw() +
    facet_wrap(~variety, scale="free")
```

**Importante la funci√≥n facet_wrap()**

]


.pull-right[

![](Data_visualization_files/figure-html/unnamed-chunk-27-1.png)&lt;!-- --&gt;


]


---


name: Multi
background-image: url("https://cdn.pixabay.com/photo/2017/09/24/17/19/cow-2782461_1280.jpg")
background-size: cover
class: inverse, center, middle


# <i class="fab fa-buffer" role="presentation" aria-label="buffer icon"></i>
# Gr√°ficos Multivariados
----

.right[
.bottom[
####  [<i class="fa fa-bell" role="presentation" aria-label="bell icon"></i>](#menu)
]
]

---

# <i class="fab fa-delicious" role="presentation" aria-label="delicious icon"></i> Agrupaci√≥n

En la agrupaci√≥n, los valores de las dos primeras variables se asignan a la x y Y ejes. Luego, las variables adicionales se asignan a otras caracter√≠sticas visuales conocidas como los elementos esteticos como el color, la forma, el tama√±o, el tipo de l√≠nea y la transparencia. La agrupaci√≥n permite trazar datos de varios grupos en un solo gr√°fico.


### Variables salario y a√±os de experiencia doctoral.


.pull-left[

```r
library(ggplot2)
data(Salaries, package="carData")

# plot experience vs. salary
# (color represents rank, shape represents sex)
ggplot(Salaries,
       aes(x = yrs.since.phd,
           y = salary,
           color = rank,
           shape = sex)) +
  geom_point(size = 3,
             alpha = .6) +
  theme_bw() +
  labs(title = "Academic salary by rank, sex, and years since degree")
```
]


.pull-right[


![](Data_visualization_files/figure-html/unnamed-chunk-29-1.png)&lt;!-- --&gt;


]

---

# <i class="fab fa-delicious" role="presentation" aria-label="delicious icon"></i> Facetas


En el facetado, un gr√°fico consta de varios gr√°ficos separados o peque√±os m√∫ltiplos, uno para cada nivel de una tercera variable o combinaci√≥n de variables.


----

.pull-left[




`1.` `facet_wrap()` hace una cinta larga de paneles (generada por cualquier n√∫mero de variables) y la envuelve en 2D. Esto es √∫til si tiene una sola variable con muchos niveles y desea organizar los gr√°ficos de una manera m√°s eficiente en cuanto al espacio.

* La funci√≥n `facet_wrap` crea un gr√°fico independiente para cada nivel de la `variable` dada. La opci√≥n `ncol` controla el n√∫mero de columnas.

```r
facet_wrap(~variable, ncol = 1)
```

`facet_wrap(~variable)` devolver√° una matriz sim√©trica de gr√°ficos para el n√∫mero de niveles de variable.

----

]

.pull-right[


`2.` `facet_grid()` Forma una matriz de paneles definidos por variables de facetas de filas y columnas. Es m√°s √∫til cuando se tiene dos variables discretas y todas las combinaciones de las variables existen en los datos. Puede usar m√∫ltiples variables en las filas o columnas, "agreg√°ndolas" juntas, por ejemplo a + b ~ c + d.


```r
facet_grid( row variable(s) ~ column variable(s))
```

`facet_grid(.~variable)` devolver√° facetas iguales a los niveles de variable distribuido horizontalmente.

`facet_grid(variable~.)` Ahora, la distribuci√≥n es vertical.

----

]

---

# <i class="fab fa-delicious" role="presentation" aria-label="delicious icon"></i> Facetas ejemplos

.pull-left[

### C√≥digo de facet_wrap


```r
# plot salary histograms by rank
ggplot(Salaries,
       aes(x = yrs.since.phd,
           y = salary)) +
  geom_point(aes(
           color = sex), size  = 2) +
  theme_bw() +
  labs(x = "Experiencia doctoral (a√±os)", y = "Salario anual (miles USD)",
       title = "Experiencia vs. Salario") +
  facet_wrap(~rank)
```
]



.pull-right[ 
### C√≥digo de facet_grid


```r
# plot salary histograms by rank and sex
ggplot(Salaries,
       aes(x = yrs.since.phd,
           y = salary / 1000)) +
  geom_point(aes(
           color = sex), size  = 2) +
  theme_bw() +
  labs(x = "Experiencia doctoral (a√±os)", y = "Salario anual (miles USD)",
       title = "Experiencia vs. Salario") +
  facet_grid(sex ~ rank)
```

]

---

.pull-left[ 

# <i class="fab fa-delicious" role="presentation" aria-label="delicious icon"></i> Gr√°fico de facet_wrap



![](Data_visualization_files/figure-html/unnamed-chunk-32-1.png)&lt;!-- --&gt;

]

.pull-right[ 

# <i class="fab fa-delicious" role="presentation" aria-label="delicious icon"></i> Gr√°fico de facet_grid

![](Data_visualization_files/figure-html/unnamed-chunk-33-1.png)&lt;!-- --&gt;

]

---

# <i class="fab fa-delicious" role="presentation" aria-label="delicious icon"></i> Agrupaci√≥n &amp; Facet


.pull-left[



```r
# plot life expectancy by year separately
# for each country in the Americas
data(gapminder, package = "gapminder")

# Select the Americas data
plotdata &lt;- dplyr::filter(gapminder,
                          continent == "Americas")

# plot life expectancy by year, for each country
ggplot(plotdata, aes(x=year, y = lifeExp)) +
  geom_line(color="grey") +
  geom_point(color="blue") +
  facet_wrap(~country) +
  theme_minimal(base_size = 9) +
  theme(axis.text.x = element_text(angle = 45,
                                   hjust = 1)) +
  labs(title = "Changes in Life Expectancy",
       x = "Year",
       y = "Life Expectancy")
```
]


.pull-right[


![](Data_visualization_files/figure-html/unnamed-chunk-35-1.png)&lt;!-- --&gt;


]

---

background-image: url("https://cdn.pixabay.com/photo/2020/09/24/16/12/roosters-5599141_1280.jpg")
background-size: cover
class: inverse, center, middle


# Muchas gracias

Êú¨ÂπªÁÅØÁâáÁî± R ÂåÖ [**xaringan**](https://github.com/yihui/xaringan) ÁîüÊàêÔºõ

Êü•ÂÖãÊãâÊù•Ëá™‰∫é [remark.js](https://remarkjs.com)„ÄÅ[**knitr**](https://yihui.org/knitr)„ÄÅ‰ª•Âèä [R Markdown](https://rmarkdown.rstudio.com)„ÄÇ

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
